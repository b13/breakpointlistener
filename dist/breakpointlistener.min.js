/*! breakpointlistener - v1.0.0 - 2015-02-10
* Copyright (c) 2015 Benjamin GrÃ¶ner @ b:dreizehn Licensed MIT */
define("breakpointlistener",["bowser"],function(a){function b(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function c(){if(!arguments.length)return void 0;for(var a=arguments[0],b=arguments.length-1;b>0;b--)if(null!=arguments[b]&&"object"==typeof arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}var d=function(d){function e(a){h.options=c(b(i),a||{}),h.breakpointHandlers=[],h.currentBreakpoint=h.getCurrentBreakpoint(),h.onResize=function(){g.apply(h,arguments)},f()}function f(){a.msie&&a.version<=8?window.attachEvent("onresize",h.onResize):window.addEventListener("resize",h.onResize,!1)}function g(){var a={lastBreakpoint:h.currentBreakpoint,currentBreakpoint:h.updateBreakpoint(),timestamp:new Date};if(a.lastBreakpoint!=a.currentBreakpoint&&h.breakpointHandlers.length)for(var b=0;b<h.breakpointHandlers.length;b++)h.breakpointHandlers[b].call(h,a)}var h=this,i={};h.getCurrentBreakpoint=function(){return h.currentBreakpoint||h.updateBreakpoint(),h.currentBreakpoint},h.getCssViewPortHeight=function(){var b=window,c="inner";return a.msie&&a.version<=8?document.documentElement.offsetHeight:("innerHeight"in window||(c="client",b=document.documentElement||document.body),b[c+"Height"])},h.getCssViewPortWidth=function(){var b=window,c="inner";return a.msie&&a.version<=8?document.documentElement.offsetWidth:("innerWidth"in window||(c="client",b=document.documentElement||document.body),b[c+"Width"])},h.offChangeBreakpoint=function(a){h.unregisterBreakpointHandler(a)},h.onChangeBreakpoint=function(a){h.registerBreakpointHandler(a)},h.registerBreakpointHandler=function(a){"function"==typeof a&&h.breakpointHandlers.push(a)},h.unregisterBreakpointHandler=function(a){var b=h.breakpointHandlers.indexOf(a);b>-1&&h.breakpointHandlers.splice(b,1)},h.updateBreakpoint=function(){var a=this.getCssViewPortWidth(),b="xs";for(var c in h.options.breakpoints){var d=h.options.breakpoints[c];if(d>a)break;b=c}return h.currentBreakpoint=b,b},e(d)};return d});