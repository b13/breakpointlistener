/*! breakpointlistener - v1.0.0 - 2015-04-07
* Copyright (c) 2015 Benjamin GrÃ¶ner @ b:dreizehn Licensed MIT */
define("breakpointlistener",["bowser"],function(a){function b(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function c(){if(!arguments.length)return void 0;for(var a=arguments[0],b=arguments.length-1;b>0;b--)if(null!=arguments[b]&&"object"==typeof arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}var d=function(d){function e(a){i.options=c(b(j),a||{}),i.breakpointHandlers=[],i.currentBreakpoint=i.getCurrentBreakpoint(),i._onResize=function(){g.apply(i,arguments)},f()}function f(){a.msie&&a.version<=8?window.attachEvent("onresize",i._onResize):window.addEventListener("resize",i._onResize,!1)}function g(){var a={lastBreakpoint:i.currentBreakpoint,currentBreakpoint:h(),timestamp:new Date};if(a.lastBreakpoint!=a.currentBreakpoint&&i.breakpointHandlers.length)for(var b=0;b<i.breakpointHandlers.length;b++)i.breakpointHandlers[b].call(i,a)}function h(){var a=i.getCssViewPortWidth(),b="xs";for(var c in i.options.breakpoints){var d=i.options.breakpoints[c];if(d>a)break;b=c}return i.currentBreakpoint=b,b}var i=this,j={};i.getCurrentBreakpoint=function(){return i.currentBreakpoint||h(),i.currentBreakpoint},i.getCssViewPortHeight=function(){var b=window,c="inner";return a.msie&&a.version<=8?document.documentElement.offsetHeight:("innerHeight"in window||(c="client",b=document.documentElement||document.body),b[c+"Height"])},i.getCssViewPortWidth=function(){var b=window,c="inner";return a.msie&&a.version<=8?document.documentElement.offsetWidth:("innerWidth"in window||(c="client",b=document.documentElement||document.body),b[c+"Width"])},i.offChangeBreakpoint=function(a){return i.unregisterBreakpointHandler(a)},i.onChangeBreakpoint=function(a){return i.registerBreakpointHandler(a)},i.registerBreakpointHandler=function(a){return"function"==typeof a&&i.breakpointHandlers.push(a),a},i.unregisterBreakpointHandler=function(a){var b=i.breakpointHandlers.indexOf(a);return b>-1?(i.breakpointHandlers.splice(b,1),a):void 0},i.updateBreakpoint=function(a){return a?h():g(),i.currentBreakpoint},e(d)};return d});