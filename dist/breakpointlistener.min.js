/*! breakpointlistener - v0.1.0 - 2015-01-12
* Copyright (c) 2015 Benjamin GrÃ¶ner @ b:dreizehn Licensed MIT */
define("breakpointlistener",["jquery","underscore"],function(a,b){var c=function(c){function d(b){g.options=a.extend(h,b||{}),g.breakpointHandlers=[],g.currentBreakpoint=g.getCurrentBreakpoint(),e()}function e(){a(window).on("resize",f)}function f(){var b={lastBreakpoint:g.currentBreakpoint,currentBreakpoint:g.updateBreakpoint(),timestamp:new Date};b.lastBreakpoint!=b.currentBreakpoint&&a.each(g.breakpointHandlers,function(a,c){c(b)})}var g=this,h={};g.getCurrentBreakpoint=function(){return g.currentBreakpoint||g.updateBreakpoint(),g.currentBreakpoint},g.offChangeBreakpoint=function(a){g.unregisterBreakpointHandler(a)},g.onChangeBreakpoint=function(a){g.registerBreakpointHandler(a)},g.registerBreakpointHandler=function(a){b.isFunction(a)&&g.breakpointHandlers.push(a)},g.unregisterBreakpointHandler=function(a){g.breakpointHandlers=b.without(g.breakpointHandlers,a)},g.updateBreakpoint=function(){var b=a(window).width(),c="xs";return a.each(g.options.breakpoints,function(a,d){return d>b?c:void(c=a)}),g.currentBreakpoint=c,c},d(c)};return c});